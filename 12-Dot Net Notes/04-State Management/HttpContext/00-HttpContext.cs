/*
===============================================================
๐น ูุง ูู HttpContext ูู ASP.NET Coreุ
===============================================================
HttpContext ูู ูุงุฆู ูุญุชูู ุนูู ุฌููุน ุงููุนูููุงุช ุงูุฎุงุตุฉ ุจุงูุทูุจ (Request) ูุงูุงุณุชุฌุงุจุฉ (Response) ูู ASP.NET Core.
ูุชู ุงุณุชุฎุฏุงูู ูููุตูู ุฅูู:
- ุจูุงูุงุช ุงูุฌูุณุฉ (Session).
- ูููุงุช ุชุนุฑูู ุงูุงุฑุชุจุงุท (Cookies).
- ุจูุงูุงุช ุงูุทูุจ (Request Data).
- ุจูุงูุงุช ุงูุงุณุชุฌุงุจุฉ (Response Data).
*/

/*
===============================================================
๐ ุฃูู ููุฌุฏ HttpContextุ
===============================================================
ูู ASP.NET Coreุ ูุชู ุงููุตูู ุฅูู HttpContext ูู ุฎูุงู:
- Controller.
- Middleware.
- Razor Pages.

๐น ูุซุงู: ูุฑุงุกุฉ ุงูู User-Agent ูู ุงูู Headers ูู Controller
*/
public class HomeController : Controller
{
    public IActionResult Index()
    {
        string userAgent = HttpContext.Request.Headers["User-Agent"];
        return Content($"ุงููุชุตูุญ: {userAgent}");
    }
}

/*
===============================================================
๐ ููููุงุช HttpContext ุงูุฃุณุงุณูุฉ:
===============================================================
*/

// (1) Request - ุจูุงูุงุช ุงูุทูุจ
/*
๐น ูุญุชูู ุนูู ูุนูููุงุช ูุซู:
  - Headers
  - Query String
  - Cookies
  - Body
*/

๐น ูุฑุงุกุฉ ุนููุงู IP ูููุณุชุฎุฏู:
*/
string ipAddress = HttpContext.Connection.RemoteIpAddress.ToString();

/*
๐น ูุฑุงุกุฉ ูููุฉ ูู Query String:
ุฅุฐุง ูุงู ุงูุฑุงุจุท https://example.com/home?name=Shandy
ูุฅู name ุณุชุญุชูู ุนูู "Shandy"
*/
string name = HttpContext.Request.Query["name"];

/*
===============================================================
(2) Response - ุจูุงูุงุช ุงูุงุณุชุฌุงุจุฉ
===============================================================
ูุณุชุฎุฏู ูุฅุฑุณุงู ุงูุจูุงูุงุช ุฅูู ุงูุนููู ูุซู:
- ุฅุนุฏุงุฏ ุงูููููุฒ.
- ุชุบููุฑ ููุน ุงููุญุชูู.
- ุฅุนุงุฏุฉ ุงูุชูุฌูู.
*/

// ๐น ุฅุฑุณุงู ูุต ุจุตูุบุฉ JSON ุฅูู ุงูุนููู
HttpContext.Response.ContentType = "application/json";
await HttpContext.Response.WriteAsync("{\"message\": \"Hello World\"}");

// ๐น ุฅุนุงุฏุฉ ุชูุฌูู ุงููุณุชุฎุฏู
return Redirect("https://google.com");

/*
===============================================================
(3) Session - ุชุฎุฒูู ุงูุจูุงูุงุช ุงููุคูุชุฉ
===============================================================
ุชูุณุชุฎุฏู ุงูุฌูุณุฉ (Session) ูุชุฎุฒูู ุจูุงูุงุช ุงููุณุชุฎุฏู ุฃุซูุงุก ุงูุชููู ุจูู ุงูุตูุญุงุช.
*/

// ๐น ุชุฎุฒูู ุจูุงูุงุช ูู ุงูุฌูุณุฉ
HttpContext.Session.SetString("UserName", "Shandy");

// ๐น ูุฑุงุกุฉ ุงูุจูุงูุงุช ูู ุงูุฌูุณุฉ
string userName = HttpContext.Session.GetString("UserName");

/*
===============================================================
(4) Cookies - ุชุฎุฒูู ุจูุงูุงุช ุนูู ุงููุชุตูุญ
===============================================================
*/

// ๐น ุฅุถุงูุฉ ููููุฒ
HttpContext.Response.Cookies.Append("UserToken", "abc123");

// ๐น ูุฑุงุกุฉ ููููุฒ
string userToken = HttpContext.Request.Cookies["UserToken"];

/*
===============================================================
๐ ูุชู ูุชู ุงุณุชุฎุฏุงู HttpContextุ
===============================================================
| ุงูุญุงูุฉ                         | ุงูุงุณุชุฎุฏุงู                                      |
|---------------------------------|-----------------------------------------------|
| ุงููุตูู ุฅูู ุจูุงูุงุช ุงูุทูุจ         | HttpContext.Request                          |
| ุฅุฑุณุงู ุงุณุชุฌุงุจุฉ ูุฎุตุตุฉ             | HttpContext.Response                         |
| ุชุฎุฒูู ุจูุงูุงุช ุงููุณุชุฎุฏู ูุคูุชูุง     | HttpContext.Session                          |
| ุงูุชุนุงูู ูุน ุงูููููุฒ               | HttpContext.Request.Cookies ู Response.Cookies |
| ุงููุตูู ุฅูู ุจูุงูุงุช ุงููุตุงุฏูุฉ       | HttpContext.User                             |
*/

/*
===============================================================
๐ ุงูุฎุงุชูุฉ
===============================================================
- HttpContext ูู ูุงุฆู ูุฑูุฒู ูุญุชูู ุนูู ุฌููุน ุงูุจูุงูุงุช ุงูุฎุงุตุฉ ุจุงูุทูุจ ูุงูุงุณุชุฌุงุจุฉ.
- ููุณุชุฎุฏู ููุฑุงุกุฉ ุงูู Headers, Query Strings, Cookies, ู Sessions.
- ูุฌุจ ุญูู IHttpContextAccessor ุนูุฏ ุงูุญุงุฌุฉ ูุงุณุชุฎุฏุงูู ุฎุงุฑุฌ Controller.
*/

