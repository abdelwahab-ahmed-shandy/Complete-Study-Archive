
// ๐น ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ุนูู ุฌูุฉ ุงูุนููู (Client-Side Validation) ูู ASP.NET Core MVC
--------------------------------------

ูู ุฌุฒุก Client-Side Validation , ุงูู ุฌุฒุฆูุชูู ููุง :

1- ุงุถุงูู ูููุงุช JQuery .

2- ุงุณุชุฎุฏุงู [ValidateAntiForgeryToken]

--------------------------------------

๐ ูุง ูู Client-Side Validationุ
ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ุนูู ุฌูุฉ ุงูุนููู ูู ุนูููุฉ ูุญุต   ุงููุฏุฎูุงุช ูุจู ุฅุฑุณุงููุง ุฅูู ุงูุฎุงุฏู ุจุงุณุชุฎุฏุงู JavaScript ู jQuery.
ูุชู ุฐูู ูุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู ุนู ุทุฑูู ุนุฑุถ ุงูุฃุฎุทุงุก ูุจุงุดุฑุฉู ุฏูู ุงูุญุงุฌุฉ ุฅูู ุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ.

๐ ููููุฉ ุชูุนูู ุงูุชุญูู ุนูู ุฌูุฉ ุงูุนููู ูู ASP.NET Core MVC
ูู ASP.NET Core MVCุ ูุชู ุงูุชุญูู ูู ุงูุจูุงูุงุช ุนูู ุงูุนููู ุจุงุณุชุฎุฏุงู jQuery Validation ู Unobtrusive Validationุ ููู ููุชุจุงุช ุชููู ุจุชุญููู Data Annotations ุฅูู ููุงุนุฏ ุชุญูู ูู ุงููุชุตูุญ.



๐ฏ ููููุฉ ุชูุนูู Client-Side Validation ูู ASP.NET Core MVC
//==========================================================================================================================
////// ููู ุฌุฏุงุงุงุง 

1๏ธ - ุชูุนูู ุงูุชุญูู ุนูู ุฌูุฉ ุงูุนููู ูู View
ูุฌุจ ุชุถููู ููุชุจุงุช jQuery Validation ูู ุงููุดุฑูุนุ ููู ูุถููุฉ ุชููุงุฆููุง ูู ASP.NET Core.

๐ฏ 1๏ธ - ุฅุถุงูุฉ ููุชุจุงุช jQuery Validation : 
ูุจู ุฃู ูุนูู Client-Side Validationุ ูุฌุจ ุชุถููู ูููุงุช jQuery ู jQuery Validation ูู ุงููุดุฑูุน.
๐น ูุชู ุชุถููููุง ุชููุงุฆููุง ุนูุฏ ุฅูุดุงุก ุงููุดุฑูุนุ ูููู ุฅุฐุง ูู ุชูู ูุถุงูุฉุ ูู ุจุฅุถุงูุชูุง ูุฏูููุง:

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validation-unobtrusive/3.2.11/jquery.validate.unobtrusive.min.js"></script>

โ ูุฐู ุงูููุชุจุงุช ูุณุคููุฉ ุนู ุชูููุฐ ุงูุชุญูู ุนูู ุงูุนููู ูุจู ุฅุฑุณุงู ุงูุจูุงูุงุช ููุฎุงุฏู.  
//==========================================================================================================================

///////////ูุฐุง ุฌุฒุก ุณูุฑูุฑ ุณุงูุฏ ุงูุซุฑ ููู ููู ุงุฎุฑ ูุดุฑุญู

๐ฏ 2๏ธ - ุชุทุจูู Client-Side Validation ูู ุงููููุฐุฌ
ูู Modelุ ูุณุชุฎุฏู Data Annotations ูุชุญุฏูุฏ ููุงุนุฏ ุงูุชุญูู.

๐น ูุซุงู ุนูู ูููุฐุฌ ูุญุชูู ุนูู ุงูุชุญูู ูู ุงูุตุญุฉ:

using System.ComponentModel.DataAnnotations;

public class UserModel
{
    [Required(ErrorMessage = "ุงูุงุณู ูุทููุจ!")]
    [StringLength(50, MinimumLength = 3, ErrorMessage = "ูุฌุจ ุฃู ูููู ุงูุงุณู ุจูู 3 ู 50 ุญุฑููุง.")]
    public string Name { get; set; }

    [Required(ErrorMessage = "ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุทููุจ!")]
    [EmailAddress(ErrorMessage = "ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุบูุฑ ุตุงูุญ!")]
    public string Email { get; set; }

    [Required(ErrorMessage = "ูููุฉ ุงููุฑูุฑ ูุทููุจุฉ!")]
    [MinLength(6, ErrorMessage = "ูุฌุจ ุฃู ุชููู ูููุฉ ุงููุฑูุฑ 6 ุฃุญุฑู ุนูู ุงูุฃูู.")]
    public string Password { get; set; }
}

โ ูุฐู ุงูุชุนูููุงุช ุงูุชูุถูุญูุฉ (Data Annotations) ุณูุชู ุชุญููููุง ุชููุงุฆููุง ุฅูู ุชุญูู ุนูู ุฌูุฉ ุงูุนููู ุจูุงุณุทุฉ jQuery Validation.


//==========================================================================================================================

///////////ูุฐุง ุฌุฒุก ุณูุฑูุฑ ุณุงูุฏ ุงูุซุฑ ููู ููู ุงุฎุฑ ูุดุฑุญู


๐ฏ 3๏ธ - ุฅูุดุงุก View ูุน ุฏุนู ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ุนูู ุงูุนููู
๐น ูุซุงู ุนูู Register.cshtml ูุญุชูู ุนูู ุญููู ุงูุฅุฏุฎุงู ูุนุฑุถ ุงูุฃุฎุทุงุก:

------------------------------------------------------------------
@model UserModel

<form asp-action="Register" asp-controller="User" method="post">
    <div>
        <label asp-for="Name"></label>
        <input asp-for="Name" />
        <span asp-validation-for="Name" class="text-danger"></span>
    </div>

    <div>
        <label asp-for="Email"></label>
        <input asp-for="Email" />
        <span asp-validation-for="Email" class="text-danger"></span>
    </div>

    <div>
        <label asp-for="Password"></label>
        <input asp-for="Password" type="password" />
        <span asp-validation-for="Password" class="text-danger"></span>
    </div>

    <button type="submit">ุชุณุฌูู</button>
</form>
------------------------------------------------------------------

โ ุนูุฏ ุฅุฏุฎุงู ุจูุงูุงุช ุบูุฑ ุตุญูุญุฉุ ุณูุนุฑุถ ุงููุชุตูุญ ุฑุณุงุฆู ุงูุฎุทุฃ ุจุฏูู ุฅุฑุณุงู ุงูุจูุงูุงุช ุฅูู ุงูุฎุงุฏู.

//==========================================================================================================================

๐ฏ 4๏ธ - ุงูุชุฃูุฏ ูู ุชูููู ุงูุชุญูู ูู ViewImports

ูุฌุจ ุงูุชุฃูุฏ ูู ุฃู ููู _ViewImports.cshtml ูุญุชูู ุนูู:

---------------------------------------------------------
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
---------------------------------------------------------
โ ูุฐุง ูุถูู ุฃู Tag Helpers ูุซู asp-validation-for ุชุนูู ุจุดูู ุตุญูุญ.

//==========================================================================================================================

๐ฏ 5๏ธ - ุฅุถุงูุฉ ุงูุชุญูู ุงููุฎุตุต ุนูู ุฌูุฉ ุงูุนููู
ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุชุญูู ูุฎุตุต ูุง ุชุบุทูู Data Annotationsุ ููููู ุฅูุดุงุคู ุจุงุณุชุฎุฏุงู jQuery Validation.

๐น ูุซุงู:
 ุฅุถุงูุฉ ูุงุนุฏุฉ ุชุญูู ูุฎุตุตุฉ ูู site.js ููุชุฃูุฏ ูู ุฃู ุงูุงุณู ูุจุฏุฃ ุจุญุฑู ูุจูุฑ:

--------------------------------------------------------------------
$.validator.addMethod("capitalletter", function (value, element) {
    return this.optional(element) || /^[A-Z].*$/.test(value);
}, "ูุฌุจ ุฃู ูุจุฏุฃ ุงูุงุณู ุจุญุฑู ูุจูุฑ!");
--------------------------------------------------------------------

ุซู ูุฑุจุทูุง ุจุงูุนูุตุฑ ุงููุทููุจ ูู ุงูุตูุญุฉ:

<script>
    $(document).ready(function () {
        $("input[name='Name']").rules("add", { capitalletter: true });
    });
</script>

โ ุจูุฐู ุงูุทุฑููุฉุ ุณูุชู ุงูุชุญูู ูู ุฃู ุงูุงุณู ูุจุฏุฃ ุจุญุฑู ูุจูุฑ ุฏูู ุงูุญุงุฌุฉ ุฅูู ุฅุฑุณุงู ุงูุจูุงูุงุช ููุฎุงุฏู.

//==========================================================================================================================
////// ููู ุฌุฏุงุงุงุง 

๐ฏ 6๏ธ - ุงูุชุญูู ูู ุฅุฑุณุงู ุงูุจูุงูุงุช ุฅูู ุงูุฎุงุฏู
๐ธ ุงุณุชุฎุฏุงู [HttpPost] ู [ValidateAntiForgeryToken]
ุนูุฏ ุฅุฑุณุงู ุงููููุฐุฌุ ูุฌุจ ุญูุงูุชู ูู ูุฌูุงุช CSRF ุจุงุณุชุฎุฏุงู [ValidateAntiForgeryToken]ุ ุญูุซ ูููู ุจุงูุชุญูู ูู ุตุญุฉ ุงูุทูุจ.

๐น ูุซุงู ุนูู Controller ูุน ุญูุงูุฉ CSRF:

--------------------------------------------------------------------
using Microsoft.AspNetCore.Mvc;

public class UserController : Controller
{
    [HttpGet]
    public IActionResult Register()
    {
        return View();
    }

    [HttpPost]
    [ValidateAntiForgeryToken] // ุญูุงูุฉ ุถุฏ CSRF
    public IActionResult Register(UserModel model)
    {
        if (!ModelState.IsValid) // ุฅุฐุง ูุงู ููุงู ุฎุทุฃุ ุฅุนุงุฏุฉ ุนุฑุถ ุงููููุฐุฌ
        {
            return View(model);
        }

        return RedirectToAction("Success");
    }

    public IActionResult Success()
    {
        return View();
    }
}
--------------------------------------------------------------------
โ ููุง ูุชู ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ุนูู ุงูุนููู ุฃููุงูุ ุซู ูุชู ุฅุฑุณุงููุง ุฅูู ุงูุฎุงุฏู ุฅุฐุง ูู ุชูู ููุงู ุฃุฎุทุงุก.
โ [ValidateAntiForgeryToken] ูุญูู ุงููููุฐุฌ ูู ูุฌูุงุช ุชุฒููุฑ ุงูุทูุจุงุช ุจูู ุงูููุงูุน (CSRF).

//==========================================================================================================================

๐ ููุฎุต ุณุฑูุน
โ Client-Side Validation ูุณุชุฎุฏู jQuery Validation ููุชุญูู ูู ุงููุฏุฎูุงุช ูุจู ุฅุฑุณุงููุง ุฅูู ุงูุฎุงุฏู.
โ ูุฌุจ ุชุถููู ููุชุจุงุช jQuery ู jQuery Validation ูู ุงูุตูุญุฉ.
โ ูุชู ุชุทุจูู Data Annotations ูู Model ููุชู ุชุญููููุง ุฅูู ุชุญูู ุนูู ุงูุนููู ุชููุงุฆููุง.
โ ูููู ุฅุถุงูุฉ ุชุญูู ูุฎุตุต ุจุงุณุชุฎุฏุงู $.validator.addMethod().
โ ุนูุฏ ุฅุฑุณุงู ุงูุจูุงูุงุชุ ูุชู ุงูุชุญูู ูู CSRF ุจุงุณุชุฎุฏุงู [ValidateAntiForgeryToken].

//==========================================================================================================================
//==========================================================================================================================
Abdelwahab Shandy
//==========================================================================================================================
//==========================================================================================================================