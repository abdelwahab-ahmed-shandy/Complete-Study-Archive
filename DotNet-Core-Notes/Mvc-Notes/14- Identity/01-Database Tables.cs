/*
=============================================================
                ๐ ASP.NET Identity - Summary
=============================================================
*/

// โ ุฌุฏูู ุงููุณุชุฎุฏููู (AspNetUsers)
// ูุญุชูู ุนูู ุจูุงูุงุช ุงููุณุชุฎุฏููู ุงููุณุฌููู ูู ุงููุธุงู.
// ๐น ุฃูู ุงูุญููู:
// - Id: ูุนุฑู ุงููุณุชุฎุฏู ุงููุฑูุฏ (GUID).
// - UserName: ุงุณู ุงููุณุชุฎุฏู.
// - Email: ุงูุจุฑูุฏ ุงูุฅููุชุฑููู.
// - PasswordHash: ูููุฉ ุงููุฑูุฑ ูุดูุฑุฉ.
// - LockoutEnabled: ูู ูููู ููู ุงูุญุณุงุจ ุจุนุฏ ูุญุงููุงุช ูุงุดูุฉุ

// โ ุฌุฏูู ุงูุฃุฏูุงุฑ (AspNetRoles)
// ูุฎุฒู ุงูุฃุฏูุงุฑ (Roles) ุงูุชู ูููู ุชุนููููุง ูููุณุชุฎุฏูููุ ูุซู "Admin" ู "User".
// ๐น ุฃูู ุงูุญููู:
// - Id: ูุนุฑู ุงูุฏูุฑ ุงููุฑูุฏ (GUID).
// - Name: ุงุณู ุงูุฏูุฑ.

// โ ุฌุฏูู ุงูุนูุงูุฉ ุจูู ุงููุณุชุฎุฏููู ูุงูุฃุฏูุงุฑ (AspNetUserRoles)
// ููุซู ุงูุนูุงูุฉ ุจูู ุงููุณุชุฎุฏููู ูุงูุฃุฏูุงุฑ ุจุทุฑููุฉ Many-to-Many.
// ๐น ุฃูู ุงูุญููู:
// - UserId: ูุนุฑู ุงููุณุชุฎุฏู.
// - RoleId: ูุนุฑู ุงูุฏูุฑ.

// โ ุฌุฏูู ุงููุทุงูุจุงุช (AspNetUserClaims)
// ููุณุชุฎุฏู ูุชุฎุฒูู ูุทุงูุจุงุช ูุฎุตุตุฉ ููู ูุณุชุฎุฏู (Claims).
// ๐น ุฃูู ุงูุญููู:
// - Id: ูุนุฑู ุงููุทุงูุจุฉ.
// - UserId: ูุนุฑู ุงููุณุชุฎุฏู ุงููุฑุชุจุท ุจุงููุทุงูุจุฉ.
// - ClaimType: ููุน ุงููุทุงูุจุฉ (ูุซู "Department").
// - ClaimValue: ูููุฉ ุงููุทุงูุจุฉ (ูุซู "IT Department").

// โ ุฌุฏูู ุชุณุฌูู ุงูุฏุฎูู ุจูุฒูุฏุงุช ุฎุงุฑุฌูุฉ (AspNetUserLogins)
// ูุฎุฒู ุจูุงูุงุช ุชุณุฌูู ุงูุฏุฎูู ุจุงุณุชุฎุฏุงู ูุฒูุฏุงุช ุฎุงุฑุฌูุฉ ูุซู Google ุฃู Facebook.
// ๐น ุฃูู ุงูุญููู:
// - LoginProvider: ุงุณู ูุฒูุฏ ุชุณุฌูู ุงูุฏุฎูู.
// - ProviderKey: ูุนุฑู ุงููุณุชุฎุฏู ูู ุงููุฒูุฏ ุงูุฎุงุฑุฌู.
// - UserId: ูุนุฑู ุงููุณุชุฎุฏู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.

// โ ุฌุฏูู ุงูุชูููุงุช (AspNetUserTokens)
// ููุณุชุฎุฏู ูุชุฎุฒูู ุงูุชูููุงุช ุงูุฎุงุตุฉ ุจุงููุณุชุฎุฏูููุ ูุซู ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ ุฃู ุงููุตุงุฏูุฉ ุงูุซูุงุฆูุฉ.
// ๐น ุฃูู ุงูุญููู:
// - UserId: ูุนุฑู ุงููุณุชุฎุฏู.
// - LoginProvider: ูุฒูุฏ ุงูุชููู.
// - Name: ุงุณู ุงูุชููู.
// - Value: ูููุฉ ุงูุชููู.

/*
=============================================================
                 ๐ฏ ุฃูุซูุฉ ุนูููุฉ ุนูู ุงูุงุณุชุฎุฏุงู
=============================================================
*/

// ๐ฅ ุฅุถุงูุฉ ูุณุชุฎุฏู ุฅูู ุฏูุฑ ูุนูู
public async Task AddUserToRole(UserManager<IdentityUser> userManager, string email, string role)
{
    var user = await userManager.FindByEmailAsync(email);
    if (user != null)
    {
        await userManager.AddToRoleAsync(user, role);
    }
}

// ๐ ุงูุชุญูู ููุง ุฅุฐุง ูุงู ุงููุณุชุฎุฏู ูุฏูู ุฏูุฑ ูุนูู
public async Task<bool> IsUserInRole(UserManager<IdentityUser> userManager, string email, string role)
{
    var user = await userManager.FindByEmailAsync(email);
    return user != null && await userManager.IsInRoleAsync(user, role);
}

/*
=============================================================
                        ๐ ุงูุฎูุงุตุฉ
=============================================================
*/

AspNetUsers: ูุฎุฒู ุจูุงูุงุช ุงููุณุชุฎุฏููู.
AspNetRoles: ูุฎุฒู ุงูุฃุฏูุงุฑ ุงููุชุงุญุฉ.
AspNetUserRoles: ูุฑุจุท ุงููุณุชุฎุฏููู ุจุงูุฃุฏูุงุฑ.
AspNetUserClaims: ูุณุชุฎุฏู ูุฅุถุงูุฉ ูุนูููุงุช ุฅุถุงููุฉ ููู ูุณุชุฎุฏู.
AspNetUserLogins: ูุฎุฒู ุจูุงูุงุช ุชุณุฌูู ุงูุฏุฎูู ุนุจุฑ Google, Facebook.
AspNetUserTokens: ูุฎุฒู ุงูุชูููุงุช ูููุณุชุฎุฏููู.
