ุนูุดุงู ูุนูู ุชููุฆู ูููุดุฑูุน ุงูู ูุดุชุบู MVC :

ูุงุฒู ูุนูู ุจุนุถ ุงูุฎุทูุงุช ููููุง :

1 - ุงูุฐูุงุจ ุงูู ููู : Program.cs 

ุชููู ุจุชุนุฏูู ุงูููู ุนูู ุงููุญู ุงูุงุชู ูุชููุฆุชู :

/*
var builder = WebApplication.CreateBuilder(args);
builder.Services.AddControllersWithViews();
var app = builder.Build();

if (!app.Environment.IsDevelopment())
{
    app.UseExceptionHandler("/Home/Error");
    // The default HSTS value is 30 days. You may want to change this for production scenarios, see https://aka.ms/aspnetcore-hsts.
    app.UseHsts();
}

app.UseHttpsRedirection();

app.UseStaticFiles();

app.UseRouting();

app.UseAuthorization();

app.UseEndpoints(endpoints =>
{
    endpoints.MapControllerRoute(
    name: "admin",
    pattern: "{area:exists}/{controller=Home}/{action=Index}");
	
    endpoints.MapControllerRoute(
    name: "default",
    pattern: "{controller=Employees}/{action=List}/{id?}");
}
);

app.Run();

*/

// =============================================================================
ุชููุฆุฉ ูุดุฑูุน ASP.NET Core MVC ูู ููู Program.cs :
// =============================================================================

ุฅูุดุงุก ูุจูุงุก ุงูุชุทุจูู :

var builder = WebApplication.CreateBuilder(args);

๐น ูุฐุง ุงูุณุทุฑ ููุดุฆ ูุงุฆู builder ุงูุฐู ููุณุชุฎุฏู ูุฅุนุฏุงุฏ ุงูุชุทุจูู ูุฅุถุงูุฉ ุงูุฎุฏูุงุช ุฅููู.

// =============================================================================
 ุชูุนูู MVC ูู ุงููุดุฑูุน :
 
builder.Services.AddControllersWithViews();

๐น ูุฐุง ุงูุณุทุฑ ูุฎุจุฑ ุงูุชุทุจูู ุจุฃููุง ุณูุณุชุฎุฏู ููุท MVCุ ููุง ูุณูุญ ูู ุจุงูุชุนุงูู ูุน Controllers ู Views ูู ุงููุดุฑูุน.

โ Services: ุชูุณุชุฎุฏู ูุฅุถุงูุฉ ุงูุฎุฏูุงุช ุงูุฎุงุฑุฌูุฉ ูุซู ุฑุจุท Class ุจู Interfaceุ ุฃู ุงุณุชุฎุฏุงู ููุงุนุฏ ุงูุจูุงูุงุชุ ุฃู ุฅุถุงูุฉ Authenticationุ ูุบูุฑูุง.

// =============================================================================
 ุจูุงุก ุงูุชุทุจูู ูุชุดุบููู :
 
 var app = builder.Build();

๐น ุจุนุฏ ุงูุงูุชูุงุก ูู ุถุจุท ุงูุฎุฏูุงุชุ ูููู ุจุจูุงุก ุงูุชุทุจูู ููุตุจุญ ุฌุงูุฒูุง ููุชุดุบูู.

// =============================================================================
ุถุจุท ุจูุฆุฉ ุงูุชุทููุฑ :

if (!app.Environment.IsDevelopment())
{
    app.UseExceptionHandler("/Home/Error"); // ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ
    app.UseHsts(); // ุชูุนูู HSTS ูุชุญุณูู ุงูุฃูุงู ุจุงุณุชุฎุฏุงู HTTPS
}


๐น app.Environment.IsDevelopment() ูุชุญูู ููุง ุฅุฐุง ูุงู ุงููุดุฑูุน ูู ูุถุน ุงูุชุทููุฑ.
๐น ุฅุฐุง ูุงู ููุณ ูู ูุถุน ุงูุชุทููุฑุ ูุชู ุชูุนูู:

ูุนุงูุฌ ุงูุฃุฎุทุงุก (UseExceptionHandler) ูุชุญููู ุงููุณุชุฎุฏู ุฅูู ุตูุญุฉ /Home/Error ุนูุฏ ุญุฏูุซ ุฎุทุฃ.
UseHsts() ูุชุญุณูู ุงูุฃูุงู ูู ุฎูุงู ุชูุนูู HTTP Strict Transport Security (HSTS)

// =============================================================================
ุฅุฌุจุงุฑ ุงูุชุทุจูู ุนูู ุงุณุชุฎุฏุงู HTTPS :

app.UseHttpsRedirection();

๐น ูุญููู ุฌููุน ุงูุทูุจุงุช ุชููุงุฆููุง ุฅูู HTTPS ุจุฏูุงู ูู HTTPุ ููุง ูุญุณู ุงูุฃูุงู ุนุจุฑ SSL.

// =============================================================================
ุชูุนูู ุงุณุชุฎุฏุงู ุงููููุงุช ุงูุซุงุจุชุฉ (Static Files) :

app.UseStaticFiles();

๐น ูุชูุญ ุงููุตูู ุฅูู ุงููููุงุช ุงูุซุงุจุชุฉ ุงูููุฌูุฏุฉ ุฏุงุฎู ูุฌูุฏ wwwrootุ ูุซู:

ุงูุตูุฑ
ูููุงุช CSS ู JavaScript
ุฃู ูููุงุช ุซุงุจุชุฉ ุฃุฎุฑู ูุญุชุงุฌูุง ุงููุดุฑูุน
๐ ููุงุญุธุฉ: ูุง ููููู ุงุณุชุฎุฏุงู ุงููููุงุช ุฏุงุฎู wwwroot ุฅูุง ุจุนุฏ ูุชุงุจุฉ ูุฐุง ุงูุณุทุฑ!

// =============================================================================
ุชูุนูู ูุธุงู ุงูุชูุฌูู (Routing) :

app.UseRouting();

๐น ููุณุชุฎุฏู ูุชุญุฏูุฏ ููููุฉ ุงูุชุนุงูู ูุน ุนูุงููู URL ูู ุงููุดุฑูุน.

// =============================================================================
 ุชูุนูู ุตูุงุญูุงุช ุงููุตูู (Authorization) :
 
 app.UseAuthorization();

๐น ูุณุชุฎุฏู ูุชุญุฏูุฏ ูู ููููู ุงููุตูู ุฅูู ุงูุตูุญุงุช ุงููุฎุชููุฉ ููููุง ูุขููุงุช ุงููุตุงุฏูุฉ (Authentication) ูุงูุชูููุถ (Authorization).
 
// =============================================================================
ุถุจุท ุงูุชูุฌูู (Routing Configuration) :

app.UseEndpoints(endpoints =>
{
    // ููุทูุฉ (Area) ูุซู ููุญุฉ ุชุญูู ุงููุดุฑู
    endpoints.MapControllerRoute(
        name: "admin",
        pattern: "{area:exists}/{controller=Home}/{action=Index}");

    // ุงูุชูุฌูู ุงูุงูุชุฑุงุถู
    endpoints.MapControllerRoute(
        name: "default",
        pattern: "{controller=Employees}/{action=List}/{id?}");
});

๐น ูุญุฏุฏ ููุงุนุฏ ุงูุชูุฌูู ูููููุฉ ุชุนุงูู ุงูุชุทุจูู ูุน ุงูุฑูุงุจุท (URLs):
โ ุงูุชูุฌูู ุงูุฃูู (admin): ุฅุฐุง ูุงู ููุงู Areaุ ูุชู ุชูุฌูู ุงูุทูุจ ุฅูู HomeController > Index ุฏุงุฎู ุชูู ุงูู Area.
โ ุงูุชูุฌูู ุงูุงูุชุฑุงุถู (default): ุฅุฐุง ูู ูุชู ุชุญุฏูุฏ ูุณุงุฑุ ูุชู ุชูุฌูู ุงูุทูุจ ุชููุงุฆููุง ุฅูู EmployeesController > List ูุน ุฅููุงููุฉ ุชูุฑูุฑ id ููุนุงูู ุงุฎุชูุงุฑู.

// =============================================================================
 ุชุดุบูู ุงูุชุทุจูู :
 
 app.Run();

๐น ูุฐุง ูู ุงูุณุทุฑ ุงูุฐู ูููู ูุนูููุง ุจุชุดุบูู ุงูุชุทุจูู ูุงูุงุณุชูุงุน ุฅูู ุงูุทูุจุงุช ุงููุงุฑุฏุฉ.

// =============================================================================
๐ก ุงููุชูุฌุฉ ุงูููุงุฆูุฉ
ุจุนุฏ ุชูููุฐ ูุฐู ุงูุฎุทูุงุชุ ุณูููู ูุดุฑูุนู ูููููุฃ ููุนูู ุจููุท MVCุ ููุง ูุณูุญ ูู ุจูุนุงูุฌุฉ ุงูุทูุจุงุช ุจุงุณุชุฎุฏุงู Controllers ู Views ุจุณูุงุณุฉ. 

	
// =============================================================================
// =============================================================================
// =============================================================================
////ูุฐู ุงูุฌุฒุฆูู ููููู ุงูุฑุฌูุน ุงูู ุงููุฑุฌุน ุงูุงุตูู ููุง ุนู ุทุฑูู ูุฐุง ุงููููู
//
	
Install Package EntityFrameworkCore :

// ูุฅุฏุงุฑุฉ ููุงุนุฏ ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู ููุฌ ุงูู ORM (Object-Relational Mapping) :
Install-Package Microsoft.EntityFrameworkCore -Version 8.0.12
// ุฅุฐุง ููุช ุชุณุชุฎุฏู SQL Server ููุงุนุฏุฉ ุจูุงูุงุช :
Install-Package Microsoft.EntityFrameworkCore.SqlServer -Version 8.0.12
// ูุงุณุชุฎุฏุงู ุงูุฃูุงูุฑ ุงููุชุนููุฉ ุจู EF Core ูุซู ุงูุชุฑุญูู (Migrations) :
Install-Package Microsoft.EntityFrameworkCore.Tools -Version 8.0.12
// ูุชู ุงุณุชุฎุฏุงููุง ูู Entity Framework Core ูุชูุนูู ุฎุงุตูุฉ Lazy Loading : 
Install-Package Microsoft.EntityFrameworkCore.Proxies -Version 8.0.12

//ุงุณุชุฎุฏู ุงูุฃูุฑ ุงูุชุงูู ูุนุฑุถ ูุงุฆูุฉ ุงูุญุฒู ุงููุซุจุชุฉ:
Get-Package

// =============================================================================
// =============================================================================
// =============================================================================

// Code-First
"Data Source=.;Initial Catalog=DbName;Integrated Security=True;TrustServerCertificate=True"

// Database-First Approach (Scaffolding)

Scaffold-DbContext 'Data Source=.;Initial Catalog=D;Integrated Security=True;TrustServerCertificate=True' Microsoft.EntityFrameworkCore.SqlServer -ContextDir Data -OutputDir Models -Context CarRentalDbContext

// =============================================================================
// =============================================================================
// =============================================================================

// After finishing creating the files, classes and connections, we will now create the three actual bases, 
// so before that we have to create some migrations in which we can see the complete data base before creating it,
// so here are some commands that will help you in this matter

Migrations :
===============

Add-Migration CommentwithMirgration // ููุณุชุฎุฏู ูุฐุง ุงูุฃูุฑ ูุฅุถุงูุฉ ุชุฑุญูู ุฌุฏูุฏ ุจุงุณู AddNewTables

Update-DataBase // ููุญุฏุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุชุชูุงุดู ูุน ุฃุญุฏุซ ุชุฑุญูู

Remove-Migration //ูุฒูู ุขุฎุฑ ุชุฑุญูู ุชู ุฅูุดุงุคู

Script-Migration // ููุณุชุฎุฏู ูุฅูุดุงุก ุณูุฑุจุช SQL ูุนูุณ ุงูุชุบููุฑุงุช ุจูู ูุฌุฑุชูู ูู Entity Framework Core

Script-Migration AddNewTables //ูููุดุฆ ุณูุฑูุจุช SQL ูุจุฏุฃ ูู ุชุฑุญูู ูุนูู (AddNewTables) ูููุชูู ุจุฃุญุฏุซ ุชุฑุญูู

Script-Migration AddNewTables AddAuditTable // ูููุดุฆ ุณูุฑูุจุช SQL ูุจุฏุฃ ูู ุชุฑุญูู ูุญุฏุฏ (AddNewTables) ูููุชูู ุจุชุฑุญูู ุขุฎุฑ (AddAuditTable)

Get-Migration // ููุนุฑุถ ูุงุฆูุฉ ุจุฌููุน ุงูุชุฑุญููุงุช ุงูุชู ุชู ุฅูุดุงุคูุง 

Get-Package  //  ุงุณุชุฎุฏู ุงูุฃูุฑ ุงูุชุงูู ูุนุฑุถ ูุงุฆูุฉ ุงูุญุฒู ุงููุซุจุชุฉ

//==========================================================================================================================
//==========================================================================================================================
Abdelwahab Shandy
//==========================================================================================================================
//==========================================================================================================================
